{% extends 'core/base_cms.html' %}
{% load static from staticfiles %}
{% load i18n %}
{% load recaptcha2 %}

{% block head_other %}
  {% recaptcha_init %}
{% endblock %}

{% block head_css %}
  {{ block.super }}
  <link href="{% static 'styles/pages/contact.css' %}" media="all" rel="stylesheet" />
  <link href="{% static 'js/vendor/accessible-autocomplete.min.css' %}" rel="stylesheet" type="text/css" />
{% endblock %}

{% block content %}

{% trans "Contact us" as page_title %}

{% include 'directory_components/hero.html' with hero_text=page_title %}

<div class="container">
  <form class="form-group" action="{% url 'contact' %}" method="post">
    {% csrf_token %}

    <h2 class="heading-medium">{% trans "Contact Information" %}</h2>
    <div class="form-group{% if form.name.errors %} form-group-error{% endif %}">
      {{ form.name.label_tag }}
      <span class="error-message">{{ form.name.errors }}</span>
      {{ form.name }}
    </div>
    <div class="form-group{% if form.job_title.errors %} form-group-error{% endif %}">
      {{ form.job_title.label_tag }}
      <span class="error-message">{{ form.job_title.errors }}</span>
      {{ form.job_title }}
    </div>
    <div class="form-group{% if form.email.errors %} form-group-error{% endif %}">
      {{ form.email.label_tag }}
      <span class="error-message">{{ form.email.errors }}</span>
      {{ form.email }}
    </div>
    <div class="form-group{% if form.phone_number.errors %} form-group-error{% endif %}">
      {{ form.phone_number.label_tag }}
      <span class="error-message">{{ form.phone_number.errors }}</span>
      {{ form.phone_number }}
    </div>

    <h2 class="heading-medium">{% trans "Company information" %}</h2>
    <div class="form-group{% if form.company_name.errors %} form-group-error{% endif %}">
      {{ form.company_name.label_tag }}
      <span class="error-message">{{ form.company_name.errors }}</span>
      {{ form.company_name }}
    </div>
    <div class="form-group{% if form.company_website.errors %} form-group-error{% endif %}">
      {{ form.company_website.label_tag }}
      <span class="error-message">{{ form.company_website.errors }}</span>
      {{ form.company_website }}
    </div>
    <div class="form-group{% if form.country.errors %} form-group-error{% endif %}">
      {{ form.country.label_tag }}
      <span class="error-message">{{ form.country.errors }}</span>
      {{ form.country }}
      <span class="form-hint">{{ form.country.help_text }}</span>
    </div>
    <div class="form-group{% if form.staff_number.errors %} form-group-error{% endif %}">
      {{ form.staff_number.label_tag }}
      <span class="error-message">{{ form.staff_number.errors }}</span>
      {{ form.staff_number }}
    </div>

    <h2 class="heading-medium">{% trans "Your plans" %}</h2>
    <div class="form-group{% if form.description.errors %} form-group-error{% endif %}">
      {{ form.description.label_tag }}
      <span class="error-message">{{ form.description.errors }}</span>
      {{ form.description }}
      <span class="form-hint">{{ form.description.help_text }}</span>
    </div>
    <div class="form-group{% if form.captcha.errors %} form-group-error{% endif %}">
      <span class="error-message">{{ form.captcha.errors }}</span>
      {{ form.captcha }}
    </div>

    <div class="form-group">
      <div class="grid-row">
        <div class="column-half form-hint">
          {% trans "By sending us your details you can confirm that the information you've shared with us is true and you accept our terms and conditions." %}
        </div>
      </div>
    </div>

    <button type="submit" name="button" class="button button-blue">{% trans "Submit" %}</button>
  </form>
</div>

{% endblock %}


{% block body_js %}
  <script src="{% static 'js/vendor/accessible-autocomplete.min.js' %}"></script>
  <script>
    accessibleAutocomplete.enhanceSelectElement({
      selectElement: document.getElementById('js-country-select'),
      defaultValue: '',
      autoselect: false,
      showAllValues: false,
      minLength: 1
    })
  </script>
{% endblock %}
